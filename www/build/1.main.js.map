{"version":3,"sources":["../../src/pages/messages-page/messages-page.module.ts","../../src/pages/messages-page/messages-page.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MessagesPage } from './messages-page';\n\n@NgModule({\n  declarations: [\n    MessagesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MessagesPage),\n  ],\n  exports: [\n    MessagesPage\n  ]\n})\nexport class MessagesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages-page/messages-page.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { FirebaseService } from './../../providers/firebase-service';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as $ from 'jQuery';\n\n@IonicPage()\n@Component({\n  selector: 'page-messages',\n  templateUrl: 'messages-page.html',\n})\nexport class MessagesPage {\n  MessageData: any;\n  messageArray: any;\n  unreadMessageNum: any;\n  myID: string;\n  clickedID: string;\n  requestorInfo: any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public afd: AngularFireDatabase,\n    public firebaseService: FirebaseService,\n    private storage: Storage) {\n    }\n\n  ionViewWillEnter(){\n    this.storage.get('MessageData').then((val) => {\n      this.MessageData = val;\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MessagesPage');\n  }\n\n\n  // FRIEND REQUESTS /////////////////////////\n  declineFriend(messageID){\n    this.myID = localStorage.getItem('uid');\n    \n    this.afd.object('/users/'+this.myID+'/friends/'+messageID).update({\n      read: 'true',\n      response: 'declined'\n    })  \n  }\n\n  approveFriend(requestorID,messageID){\n    this.firebaseService.getRequestor(requestorID);\n    this.myID = localStorage.getItem('uid');\n    \n    this.afd.object('/users/'+this.myID+'/friends/'+requestorID).update({\n      img: sessionStorage.getItem('requestor-img'),\n      squad: 'false',\n      uid: sessionStorage.getItem('requestor-uid'),\n      username: sessionStorage.getItem('requestor-username')\n    })\n\n    this.afd.object('/users/'+requestorID+'/friends/'+this.myID).update({\n      img: localStorage.getItem('img'),\n      squad: 'false',\n      uid: localStorage.getItem('uid'),\n      username: localStorage.getItem('username')\n    })\n\n    this.afd.object('/users/'+this.myID+'/messages/'+messageID).update({\n      response: 'accepted',\n      read: 'true'\n    })\n  }\n\n\n  // SQUAD REQUESTS /////////////////////////\n  declineSquad(messageID){\n    this.myID = localStorage.getItem('uid');\n\n    this.afd.object('/users/'+this.myID+'/friends/'+messageID).update({\n      read: 'true',\n      response: 'declined'\n    })\n  }\n\n  approveSquad(requestorID,messageID){\n    this.firebaseService.getRequestor(requestorID);\n    this.myID = localStorage.getItem('uid');\n    \n    this.afd.object('/users/'+this.myID+'/friends/'+requestorID).update({\n      squad: 'true'\n    })\n\n    this.afd.object('/users/'+requestorID+'/friends/'+this.myID).update({\n      squad: 'true'\n    })\n\n    this.afd.object('/users/'+this.myID+'/messages/'+messageID).update({\n      response: 'accepted',\n      read: 'true'\n    })\n  }\n\n  // GO TO PROFILE /////////////////////////\n  goToProfile(uid){\n    this.navCtrl.push('PlayerPage', uid);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages-page/messages-page.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/profile-page/profile-page.module.ts","../../src/pages/profile-page/profile-page.ts"],"names":[],"mappings":"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","file":"8.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile-page';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n  exports: [\n    ProfilePage\n  ]\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-page/profile-page.module.ts","import { Observable } from 'rxjs/Observable';\nimport { FirebaseService } from './../../providers/firebase-service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, ToastController } from 'ionic-angular';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\nimport { Storage } from '@ionic/storage';\nimport * as $ from 'jquery';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile-page',\n  templateUrl: 'profile-page.html',\n})\nexport class ProfilePage {\n  nameForm: FormGroup;\n  invitations: Observable<any[]>;\n  profileData: any;\n  currUserName: string;\n  name: string;\n  experience: string;\n  gender: string;\n  height: string;\n  weight: string;\n  birthday: string;\n  uid: string;\n  updateUserIMG: string;\n  experienceNumber: string;\n  age: string;\n  points: string;\n  played: string;\n  friends: any;\n  friendData: any[];\n  friendNum:any;\n  userData: any;\n  users: any;\n  allUsers: any;\n  moreFriends: number;\n\n  constructor(\n    public navCtrl: NavController,\n    public firebaseService: FirebaseService,\n    public afd: AngularFireDatabase,\n    public storage: Storage,\n    public toastCtrl: ToastController) {\n\n    this.afd.list('/users', { preserveSnapshot: true})\n          .subscribe(snapshots=>{\n            this.userData = [];\n              snapshots.forEach(snapshot => {\n                this.userData.push(snapshot.val());\n              });\n              this.storage.set('userData',this.userData);\n          })\n\n  }\n\n  ionViewWillEnter() {\n\n    this.storage.get('myFriends').then((val) => {\n      this.friends = val;\n\n      this.friendData = [];\n      for (var key in this.friends) {\n        this.friendData.push(this.friends[key]);\n      }\n      this.friendNum = this.friendData.length;\n      this.moreFriends = this.friendNum - 4;\n      this.storage.set('friendData',this.friendData);\n      \n    if (this.friendNum <= 4){\n      $('.player.more').hide();\n    }else{\n      $('.player.more').show();\n    }\n  })\n\n    this.uid = localStorage.getItem('uid');\n\n    this.afd.list('/users/'+this.uid, { preserveSnapshot: true})\n    .subscribe(snapshots=>{\n        snapshots.forEach(snapshot => {\n          localStorage.setItem(snapshot.key, snapshot.val());\n          if (snapshot.key === 'friends'){\n            this.storage.set('myFriends', snapshot.val());\n          }\n        });\n    })\n\n    this.afd.list('/users', { preserveSnapshot: true})\n    .subscribe(snapshots=>{\n      this.allUsers = [];\n\n        snapshots.forEach(snapshot => {\n            this.allUsers.push(snapshot.val());\n        });\n        this.storage.set('allUsers',this.allUsers);\n      })\n\n    if (localStorage.getItem('gender') === 'male'){\n      this.gender = 'M';\n    }else {\n      this.gender = 'F';\n    }\n\n    this.name = localStorage.getItem('name');\n    this.birthday = localStorage.getItem('birthday');\n    this.experience = localStorage.getItem('experience');\n    this.height = localStorage.getItem('height');\n    this.weight = localStorage.getItem('weight');\n    this.updateUserIMG = localStorage.getItem('img');\n    this.age = localStorage.getItem('ageCount');\n    this.played = localStorage.getItem('played');\n    this.experienceNumber = localStorage.getItem('experience');\n    this.points = '300';\n}\n\n  updateUser() {\n    localStorage.setItem('name',this.name);\n    localStorage.setItem('height', this.height);\n    localStorage.setItem('weight', this.weight);\n    localStorage.setItem('experience', this.experience);\n    localStorage.setItem('gender', this.gender);\n    localStorage.setItem('birthday', this.birthday);\n\n    this.firebaseService.updateUserProfile().then(() => {\n      this.presentToast('Profile Updated!');\n    })\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  accepInvitation(invitation) {\n    this.firebaseService.acceptInvitation(invitation).then(() => {\n      this.presentToast('Invitation accepted!');\n    })\n  }\n\n  discardInvitation(invitationId) {\n    this.firebaseService.discardInvitation(invitationId);\n  }\n\n  logOut() {\n    this.firebaseService.logoutUser().then(() => {\n      localStorage.clear();\n      this.navCtrl.setRoot('LoginPage');\n    });\n  }\n  goToSettings(){\n    this.navCtrl.push('ProfileSettingsPage');\n  }\n  goToProfile(uid){\n    this.navCtrl.push('PlayerPage', uid);\n  }\n\n  goToConnect(){\n    this.navCtrl.push('ConnectPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-page/profile-page.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/connect-page/connect-page.module.ts","../../src/pages/connect-page/connect-page.ts"],"names":[],"mappings":"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","file":"17.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ConnectPage } from './connect-page';\n\n@NgModule({\n  declarations: [\n    ConnectPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ConnectPage),\n  ],\n  exports: [\n    ConnectPage\n  ]\n})\nexport class ConnectPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/connect-page/connect-page.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { FirebaseService } from './../../providers/firebase-service';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\n// import { Contacts, ContactFieldType, ContactFindOptions } from 'ionic-native';\nimport * as $ from 'jquery';\n\n@IonicPage()\n@Component({\n  selector: 'page-connect',\n  templateUrl: 'connect-page.html',\n})\n\nexport class ConnectPage {\n  friends: any;\n  pendingFriends: any;\n  connect: any;\n  users: any;\n  userData: any;\n  userID: any;\n  key:any;\n  messageID: number;\n  myUsername: string;\n  contactsfound = [];\n  ContactFieldType: any;\n  search = false;\n  // contactlist: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public storage: Storage,\n    public afd: AngularFireDatabase,\n    public navParams: NavParams,\n    public FirebaseService: FirebaseService,\n    public platform: Platform) {\n\n    //   this.platform.ready().then(() => {\n    //     var opts = {   \n    //        filter : \"M\",                                \n    //        multiple: true,        \n    //        hasPhoneNumber:true,                             \n    //        fields:  [ 'name.givenName' ]\n    //      };\n    //      Contacts.find([ 'displayName', 'name' ],opts).then((contacts) => {\n    //       alert('Found ' + contacts.length + ' contacts.');\n    //        this.contactlist=contacts;\n    //        console.log(this.contactlist);\n    //      }, (error) => {\n    //        console.log(error);\n    //      })\n    //  })\n  \n      this.connect = 'friends';\n\n      this.storage.get('friendData').then((val) => {\n        this.friends = val;\n      })\n\n      this.storage.get('allUsers').then((val) => {\n        this.users = val;\n\n        this.userData = [];\n        for (var key in this.users) {\n          this.userData.push(this.users[key]);\n        }\n        this.storage.set('userData',this.userData);\n    })\n  \n  }\n\n  ionViewDidLoad() {\n  }\n\n  goToProfile(uid){\n    this.navCtrl.push('PlayerPage', uid);\n  }\n\n  showContacts(){\n    $('.secondaryButton').hide();\n    $('.contactList').show();\n  }\n\n  requestRemoveSquad(uid) {\n    this.userID = localStorage.getItem('uid');\n    if ($(event.target).hasClass('true')){\n      $($(event.target).removeClass('true'));\n      $($(event.target).addClass('false'));\n      return this.afd.object('/users/' + this.userID + '/friends/' + uid).update({\n        squad: 'false'\n      })\n    } else if ($(event.target).hasClass('pending')){\n      //do nothing\n    } else {\n      $($(event.target).addClass('pending'));\n      $($(event.target).removeClass('false'));\n      \n      this.sendSquadRequest(uid);\n      return this.afd.object('/users/' + this.userID + '/friends/' + uid).update({\n        squad: 'pending'\n      })\n    }\n  }\n\n  sendSquadRequest(uid){\n    this.myUsername = localStorage.getItem('currUserName');\n    this.messageID = Math.floor(10000000000000000000 + Math.random() * 90000000000000000000);\n    return this.afd.object('/users/' + uid + '/messages/' + this.messageID).update({\n      avatar: localStorage.getItem('img'),\n      header: 'Squad Request',\n      message: this.myUsername + ' wants you to join their squad!',\n      messageID: this.messageID,\n      read: 'false',\n      requestorID: uid,\n      type: 'squadRequest'\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/connect-page/connect-page.ts"],"sourceRoot":""}